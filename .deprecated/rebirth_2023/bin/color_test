#!/usr/bin/perl

use strict;
use warnings;

if ($ARGV[0] =~ m/type1/) {
    #for (( j=0; j<16; j++ )); do
    foreach my $j (0,8,7,15,1,9,2,10,3,11,4,12,5,13,6,14) {
        foreach my $i (0..15) {
            #printf "\e[48;5;${i}m%03d" $i;
            printf "\e".'[48;5;%1$d;38;5;%2$dm%2$02d:Txt'."\e[0m", $j, $i;
            printf "\n" if ( ($i - 15) % 8 == 0 );
        }
    }
}
elsif ($ARGV[0] =~ m/type2/) {
    my @use_case = (
        # FG -->
        #0,8,7,F, 1,9,2,A, 3,B,4,C, 5,D,6,E
        [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], # BG
        [1,1,1,1, 0,1,1,1, 1,1,1,1, 0,0,1,1], # |
        [1,1,1,1, 1,1,0,1, 1,1,1,1, 1,1,1,1], # V
        [1,1,1,1, 1,1,1,1, 0,1,1,1, 1,1,1,1],
        [1,1,1,1, 1,1,1,1, 1,1,0,1, 1,0,0,0], # B
        [1,1,1,1, 1,1,1,1, 1,1,1,1, 0,1,1,1],
        [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,0,1],
        [1,1,0,1, 1,1,1,1, 1,1,1,1, 1,1,1,1],
        [1,0,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1], # BW
        [1,1,1,1, 1,0,1,1, 1,1,1,1, 1,1,1,1],
        [1,1,1,1, 1,1,1,0, 1,1,1,1, 1,1,1,1],
        [1,1,1,1, 1,1,1,1, 1,0,1,1, 1,1,1,1],
        [1,1,1,1, 1,1,1,1, 1,1,1,0, 1,1,1,1], # BB
        [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,0,1,1],
        [1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,0],
        [1,1,1,0, 1,1,1,1, 1,1,1,1, 1,1,1,1],
    );

    my @order = (0,8,7,15,1,9,2,10,3,11,4,12,5,13,6,14);

    foreach my $j (0..15) {
        foreach my $i (0..15) {
            ( $use_case[$j][$i] )
                ? printf "\e".'[48;5;%1$d;38;5;%2$dm %2$02d:Tx ', $j, $order[$i]
                : printf "\e[0m       "
            ;

            printf "\e[0m" . (($i + 1) % 4 ? " " : "|" );
        }

        printf "\e[0m\n";
        printf "-"x(8 * 16) . "\n" if ( ($j + 1) % 4 == 0 );
    }
}
else {
    printf 'use: color_test {type1|type2}'
}
